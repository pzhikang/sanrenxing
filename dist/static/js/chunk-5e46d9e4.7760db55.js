(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e46d9e4"],{"362f":function(e,t,s){"use strict";s("3c8f")},"3c8f":function(e,t,s){},"90fe":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("div",{staticClass:"header"},[s("el-select",{attrs:{placeholder:"请选择课程"},on:{change:e.handleSubjectChange},model:{value:e.selectedCourseName,callback:function(t){e.selectedCourseName=t},expression:"selectedCourseName"}},e._l(e.courseNames,(function(e,t){return s("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.filteredData,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[s("el-table-column",{attrs:{align:"center",label:"问题",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.question)+" ")]}}])}),s("el-table-column",{attrs:{label:"正确答案",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.answer)+" ")]}}])}),s("el-table-column",{attrs:{label:"学生答案",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.student_ans)+" ")]}}])}),s("el-table-column",{attrs:{label:"科目",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.subject)+" ")]}}])}),s("el-table-column",{attrs:{label:"章节",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.chapter)+" ")]}}])})],1),e._m(0)],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer"},[s("div",{staticClass:"content has-text-centered"},[s("p",[s("strong",[e._v("版权所有© 2024 长春理工大学人工智能学院认知推理与决策智能实验室")])])])])}],a=s("c7eb"),c=s("1da1"),o=(s("99af"),s("4de4"),s("d81d"),s("b0c0"),s("e9c4"),s("d3b7"),{data:function(){return{courseIds:"",courseNames:"",list:[],filteredData:[],listLoading:!0,courses:[],selectedSubject:"",subjectLoading:!1}},created:function(){this.fetchData(),this.fetchCourses()},methods:{fetchData:function(){var e=this;this.listLoading=!0,fetch("http://api.xdrv.cn:52382/multiple_c_r/  ").then((function(e){if(!e.ok)throw new Error("Network response was not ok: ".concat(e.statusText));return e.json()})).then((function(t){console.log("Fetched data:",t),e.list=t.data,e.filteredData=e.list,e.listLoading=!1})).catch((function(t){console.error("Failed to fetch list:",t),e.listLoading=!1}))},handleSubjectSelectVisible:function(e){e&&0===this.courses.length&&this.fetchCourses()},fetchCourses:function(){var e=this;return Object(c["a"])(Object(a["a"])().mark((function t(){var s,n,r,c,o;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=localStorage.getItem("token"),s){t.next=5;break}return console.error("未找到有效的token"),alert("请先登录"),t.abrupt("return");case 5:if(!e.loading){t.next=7;break}return t.abrupt("return");case 7:return e.loading=!0,t.prev=8,n="https://sanrenxing.wihealth.com.cn/Course_selection/teacher_courses/ ",t.next=12,fetch(n,{method:"GET",headers:{Authorization:"Bearer ".concat(s)}});case 12:return r=t.sent,t.next=15,r.json();case 15:c=t.sent,console.log("后端返回的完整数据:",c),c&&"success"===c.status&&Array.isArray(c.data)&&c.data.length>0?(e.courses=c.data.map((function(e){return{id:e.course_id,name:e.course_name,subject:"".concat(e.course_id,"_").concat(e.course_name)}})),e.courseNames=e.courses.map((function(e){return e.name})),e.courseIds=e.courses.map((function(e){return e.id})),console.log("提取后的课程名称:",e.courseNames),console.log("提取后的课程ID:",e.courseIds),console.log("组合后的 subject:",e.courses.map((function(e){return e.subject}))),o=e.courses.map((function(e){return e.subject})),0===e.courseNames.length?(console.log("后端返回的数据中没有有效的课程名称"),alert("获取课程列表失败，请重试。")):(e.selectedCourse=e.courseNames[0],console.log("课程获取成功:",e.courseNames),localStorage.setItem("courseIds",JSON.stringify(e.courseIds)),localStorage.setItem("courseNames",JSON.stringify(e.courseNames)),localStorage.setItem("selectedCourse",e.selectedCourse),localStorage.setItem("allSubjects",JSON.stringify(o)),console.log("课程名称、ID 和 subject 已缓存到本地存储"))):(console.log("后端返回的数据格式不正确:",c),alert("获取课程列表失败，请重试。")),t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](8),console.error("获取课程失败:",t.t0),alert("获取课程列表失败，请稍后重试。");case 24:return t.prev=24,e.loading=!1,t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[8,20,24,27]])})))()},handleSubjectChange:function(e){this.selectedSubject=e,console.log("Selected Subject ID: ".concat(this.selectedSubject)),this.filterData()},filterData:function(){var e=this;this.selectedSubject?this.filteredData=this.list.filter((function(t){return t.subject===e.selectedSubject})):this.filteredData=this.list}}}),l=o,u=(s("362f"),s("2877")),i=Object(u["a"])(l,n,r,!1,null,"eb9c1190",null);t["default"]=i.exports},e9c4:function(e,t,s){var n=s("23e7"),r=s("d066"),a=s("d039"),c=r("JSON","stringify"),o=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,u=/^[\uDC00-\uDFFF]$/,i=function(e,t,s){var n=s.charAt(t-1),r=s.charAt(t+1);return l.test(e)&&!u.test(r)||u.test(e)&&!l.test(n)?"\\u"+e.charCodeAt(0).toString(16):e},d=a((function(){return'"\\udf06\\ud834"'!==c("\udf06\ud834")||'"\\udead"'!==c("\udead")}));c&&n({target:"JSON",stat:!0,forced:d},{stringify:function(e,t,s){var n=c.apply(null,arguments);return"string"==typeof n?n.replace(o,i):n}})}}]);